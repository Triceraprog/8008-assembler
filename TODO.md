- Macro system
  - Needs a way to record the macro
  - Needs a way to bind an identifier to a value (string) in a context (.bind instruction ?)
  - Needs a way to inject the macro content with the binding context when it's called
  - Resolving a symbol on a context searches up the hierarchy
  - Be careful of the line number with Macro. Maybe some stacked line number scheme.
- Pseudo instructions
  - Conditional compilation (.if)
  - In instructions, factorize the first argument or throw
- Simplify file declaration in tests (based on a naming scheme)
- The responsibility of the short format should probably be in Listing
- The listing can be reconstructed without keeping the initial line.
- Option to output an expended, simple assembly code with a syntax for another assembler, especially as8
- Check name of executable and if as8, enters a compatible mode if needed
- If the accumulator results in a negative number, various weird things happen, because it's passed as int (wrong hex, wrong lst)
- Support for priorities in expressions (with optional compatibilities with as8)
- Change the hardcoded path in functional tests to a parameter and generate the call to tests from CMake
- If the push/pop contexts have performance problems with copying the options, copy on write could be used.
