- FileReader has a bug when "injecting now" an empty stream -> assert
- Macro system
  - Recording the macro: add to the current recording context (ParsedLine's?)
  - Needs a way to inject the macro content with the binding context when it's called
    - Add the MacroCallContext, which binds the MacroContent and the Arguments.
  - Be careful of the line number with Macro. Maybe some stacked line number scheme.
- Simplify file declaration in tests (based on a naming scheme)
- The responsibility of the short format should probably be in Listing
- The listing can be reconstructed without keeping the initial line.
- Option to output an expended, simple assembly code with a syntax for another assembler, especially as8
- Check name of executable and if as8, enters a compatible mode if needed
- If the accumulator results in a negative number, various weird things happen, because it's passed as int (wrong hex, wrong lst)
- Support for priorities in expressions (with optional compatibilities with as8)
- Change the hardcoded path in functional tests to a parameter and generate the call to tests from CMake
- If the push/pop contexts have performance problems with copying the options, copy on write could be used.
